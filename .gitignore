# ============================================
# .gitignore pour Django en Production
# Base de données SQLite gérée avec soin
# ============================================

# ------------------------------------------------------------
# SECTION 1: FICHIERS DJANGO & PYTHON ESSENTIELS À IGNORER
# ------------------------------------------------------------

# Base de données SQLite (avec gestion spécifique)
db.sqlite3
db.sqlite3-journal
*.sqlite3
*.sqlite3-journal
*.db
*.db-journal

# Fichiers Python compilés
__pycache__/
*.py[cod]
*$py.class
*.pyo
*.pyc

# Environnements Python
.venv/
env/
venv/
ENV/
env.bak/
venv.bak/
pythonenv/

# Fichiers d'environnement (NE JAMAIS COMMITER)
.env
.env.local
.env.*.local
.env.production
.env.staging
.env.development
.env.test

# Fichiers de configuration locale
local_settings.py
settings/local.py
config/local.py
*.local.py
*.local.yaml
*.local.json
*.local.toml

# Secrets et clés (NE JAMAIS COMMITER)
secrets/
keys/
credentials/
*.key
*.pem
*.crt
*.cer
*.p12
*.pfx
*.jks
id_rsa
id_dsa
*.priv

# Fichiers de log Django
*.log
logs/
log/
django.log
error.log

# Fichiers statiques et médias générés
/media/
/media_root/
/static_root/
/staticfiles/
/collected_static/

# Cache Django
.cache/
.django_cache/
*.cache

# Sessions Django
*.session

# ------------------------------------------------------------
# SECTION 2: GESTION SPÉCIFIQUE SQLite POUR PRODUCTION
# ------------------------------------------------------------

# Bases de données temporaires et de test
test_db.sqlite3
test_*.sqlite3
development.sqlite3
staging.sqlite3

# Sauvegardes de base de données
backups/
database_backups/
*.sqlite3.backup
*.sqlite3.bak
*.db.backup
*.db.bak
*.dump
*.sql.gz
*.sql.bz2

# WAL files (Write-Ahead Logging)
*-wal
*-shm

# Fichiers temporaires SQLite
*.db-temp
*.sqlite3-temp

# Dumps SQL
database_dumps/
*.sql
full_dump_*.sql

# Migrations de base de données (conservées sous contrôle de version)
# Note: Les fichiers de migrations Django sont conservés, mais pas les bases
# */migrations/*.py
# !*/migrations/__init__.py

# ------------------------------------------------------------
# SECTION 3: FICHIERS DE DÉVELOPPEMENT ET BUILD
# ------------------------------------------------------------

# Dossiers de distribution Python
build/
dist/
*.egg-info/
*.egg
.eggs/
pip-wheel-metadata/
share/python-wheels/

# Installation packages
.installed.cfg
MANIFEST
Pipfile.lock
poetry.lock
pdm.lock
.pdm.toml
requirements*.lock

# Coverage et tests
.coverage
.coverage.*
htmlcov/
.tox/
.nox/
.pytest_cache/
.mypy_cache/
.pyre/
.pytype/

# Documentation générée
docs/_build/
docs/_static/
docs/_templates/
site/

# ------------------------------------------------------------
# SECTION 4: FICHIERS SYSTÈME ET IDE
# ------------------------------------------------------------

# macOS
.DS_Store
.DS_Store?
._*
.Spotlight-V100
.Trashes
ehthumbs.db
Thumbs.db

# Windows
Thumbs.db
ehthumbs.db
Desktop.ini
$RECYCLE.BIN/

# Linux
*~
.fuse_hidden*
.directory
.trash-*
.lost+found/

# IDE - PyCharm
.idea/
*.iml
*.ipr
*.iws
.idea_modules/

# IDE - VS Code
.vscode/
*.code-workspace
!.vscode/settings.json
!.vscode/tasks.json
!.vscode/launch.json
!.vscode/extensions.json

# IDE - autres
.project
.pydevproject
.settings/
*.sublime-workspace
*.sublime-project

# Éditeurs
*.swp
*.swo
*~
\#*\#
.\#*

# ------------------------------------------------------------
# SECTION 5: FICHIERS D'APPLICATION GÉNÉRÉS
# ------------------------------------------------------------

# Fichiers d'upload temporaires
/tmp/
/temp/
uploads/temp/
temp_uploads/

# Exports et rapports
/exports/
/reports/
/generated/
/output/

# Fichiers de déploiement
deploy/
*.deploy
.deployment
.cpanel.yml

# Fichiers Docker (sauf ceux nécessaires)
Dockerfile.local
docker-compose.override.yml
.dockerignore.local

# Cache de dépendances
.pip-cache/
pip_cache/

# ------------------------------------------------------------
# SECTION 6: FICHIERS FRONTEND (si applicable)
# ------------------------------------------------------------

node_modules/
npm-debug.log*
yarn-debug.log*
yarn-error.log*
webpack-stats.json

# Builds frontend
/build/
/dist/
/out/
/bundles/

# Assets compilés
*.css.map
*.js.map
*.min.js
*.min.css

# ------------------------------------------------------------
# SECTION 7: FICHIERS SPÉCIFIQUES À L'APPLICATION
# ------------------------------------------------------------

# Fichiers QR code temporaires
/temp_qr/
*.qr.png
*.qr.jpg
*.qr.tmp

# Images temporaires
*.tmp.png
*.tmp.jpg
*.tmp.jpeg
*.tmp.gif
*.tmp.bmp

# Fichiers PDF temporaires
*.tmp.pdf
/temp_pdfs/

# Fichiers Excel/CSV temporaires
*.tmp.csv
*.tmp.xlsx
*.tmp.xls
/temp_exports/

# Photos étudiantes uploadées (si stockées localement)
/media/student_photos/
/media/profile_pictures/

# Cache des scans
scan_cache/
qr_cache/

# ------------------------------------------------------------
# SECTION 8: CONFIGURATIONS PERSONNELLES ET LOCAL
# ------------------------------------------------------------

# Fichiers de configuration personnelle
config.local.*
settings.local.*
*.local.*

# Fichiers de développement personnel
.developer_notes
todo.txt
scratchpad.*

# Fichiers de debug
debug.log
debug_output/
*.debug

# ------------------------------------------------------------
# SECTION 9: EXCEPTIONS - FICHIERS À CONSERVER
# ------------------------------------------------------------

# !README.md
# !LICENSE
# !requirements.txt
# !Pipfile
# !pyproject.toml
# !Dockerfile
# !docker-compose.yml
# !.dockerignore
# !.gitlab-ci.yml
# !.github/workflows/*.yml
# !Makefile
# !manage.py
# !*/migrations/__init__.py

# !.vscode/settings.json    # Pour partager des settings d'équipe
# !.vscode/extensions.json  # Pour partager des extensions recommandées

# ------------------------------------------------------------
# NOTES IMPORTANTES POUR LA PRODUCTION AVEC SQLite
# ------------------------------------------------------------

# IMPORTANT: En production avec SQLite sur GitHub:
# 1. Ne JAMAIS commiter la base de données de production
# 2. Utiliser des migrations Django pour le schéma
# 3. Pour les données initiales, utiliser:
#    - fixtures/ (données de test)
#    - scripts d'initialisation
#    - management commands
# 4. En production, la base sera créée automatiquement
#    ou restaurée depuis une sauvegarde sécurisée
# 5. Les WAL files (*-wal, *-shm) sont temporaires et ne doivent
#    pas être commités

# Pour initialiser une nouvelle instance:
# 1. python manage.py migrate
# 2. python manage.py loaddata initial_data.json (si disponible)
# 3. python manage.py createsuperuser

# Pour les données sensibles (utilisateurs, scans):
# - Elles doivent être gérées en production uniquement
# - Ne jamais inclure de données réelles dans le repo